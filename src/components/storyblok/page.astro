---
import { type SbBlokData } from '@storyblok/astro';
import type { ComponentProps } from '@lib/types';
import { isMap } from '@lib/helpers';
import { storyblokEditable } from '@storyblok/astro';
import StoryblokComponent from '@storyblok/astro/StoryblokComponent.astro';

const {
  blok,
  links = [],
  pageSlug,
  isHomePage,
} = Astro.props as ComponentProps;

let body: SbBlokData[] = [];

if (blok.body && isMap<SbBlokData>(blok.body)) body = blok.body;

// title
// tagline
// description
// meta_title
// meta_description
// body (blocks)
---

<header {...storyblokEditable(blok)}>
  <h1 class="text-center">{blok.title}</h1>
  <p class="text-center tagline">{blok.tagline}</p>
</header>

<div class="ws-container" {...storyblokEditable(blok)}>
  {
    body?.map((blok: any) => {
      return <StoryblokComponent blok={blok} links={links} />;
    })
  }
</div>
